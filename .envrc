export BASE_IMAGE=docker.pkg.github.com/mvgijssel/setup/base-image
export IMAGE_BUILDER_IMAGE=docker.pkg.github.com/mvgijssel/setup/image-builder
export RAZOR_SERVER_IMAGE=docker.pkg.github.com/mvgijssel/setup/razor-server

# Only if the CI variable does not exist
if [ -z "${CI+x}" ]; then
  # Only set the GITHUB REF locally (not in the CI)
  export GITHUB_REF="refs/heads/$(git rev-parse --abbrev-ref HEAD)"

  # Setting for diskimage-builder, will trigger a bash repl when there is an error
  export break=after-error
fi

export DOCKER_BUILDKIT=0

export IP_ADDRESS=$(ipconfig getifaddr en0)

export SETUP_ROOT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"
export SETUP_SCRIPTS_DIR="${SETUP_ROOT_DIR}/scripts"
export SETUP_TMP_DIR="${SETUP_ROOT_DIR}/tmp"
export SETUP_KUBERNETES_DIR="${SETUP_ROOT_DIR}/kubernetes"
export SETUP_DEPLOY_IMAGE_DIR="${SETUP_ROOT_DIR}/deploy-image"

export PATH="${SETUP_SCRIPTS_DIR}:${PATH}"
